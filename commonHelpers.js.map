{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/js/utils/toast.js","../src/main.js"],"sourcesContent":["const BASE_URL = 'https://pixabay.com/api';\nconst API_KEY = '46431994-a635163271497b221c43ba27b';\n\nfunction getPhotos(query) {\n  document.getElementById('loader').style.display = 'flex';\n\n  const url = `${BASE_URL}/?key=${API_KEY}&q=${encodeURIComponent(query)}&image_type=photo&orientation=horizontal&safesearch=true`;\n  return fetch(url)\n    .then(response => {\n\n      if (!response.ok) {\n        throw new Error('Network response was not ok');\n      }\n      return response.json();\n    })\n    .catch(error => {\n      console.error('There has been a problem with your fetch operation:', error);\n    });\n}\n\nexport { getPhotos };\n","function createCardsMarkup(cards) {\n  return cards\n    .map(\n      ({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => `\n        <li class=\"gallery-card\">\n           <a class=\"gallery-link\" href=\"${largeImageURL}\">\n                <img\n                class=\"gallery-img\"\n                src=\"${webformatURL}\"\n                alt=\"${tags}\"\n                />\n           </a>\n          <div class=\"info\">\n            <p class=\"info-item\"><b>Likes</b> ${likes}</p>\n            <p class=\"info-item\"><b>Views</b> ${views}</p>\n            <p class=\"info-item\"><b>Comments</b> ${comments}</p>\n            <p class=\"info-item\"><b>Downloads</b> ${downloads}</p>\n          </div>\n        </li>`,\n    )\n    .join('');\n}\n\nexport default createCardsMarkup;","import 'izitoast/dist/css/iziToast.min.css';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport iziToast from 'izitoast';\n\nconst icons = {\n  ok: new URL('../../img/ok.svg', import.meta.url).href,\n  error: new URL('../../img/error.svg', import.meta.url).href,\n};\n\nexport function showErrorToast(message) {\n  iziToast.error({\n    title: '',\n    backgroundColor: '#ef4040',\n    iconUrl: icons['error'],\n    timeout: 3000,\n    messageColor: '#fff',\n    titleColor: '#fff',\n    maxWidth: '438px',\n    messageSize: '16px',\n    titleSize: '16px',\n    position: 'topRight',\n    message: message,\n    close: false,\n  });\n}\n\nexport function showOkToast(message) {\n  iziToast.success({\n    title: '',\n    backgroundColor: '#59a10d',\n    iconUrl: icons['ok'],\n    messageColor: '#fff',\n    titleColor: '#fff',\n    close: false,\n    messageSize: '16px',\n    titleSize: '16px',\n    position: 'topRight',\n    message: message,\n  });\n}\n","import { getPhotos } from './js/pixabay-api';\nimport createCardsMarkup from './js/render-functions';\nimport { showErrorToast } from './js/utils/toast.js';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst searchFormEl = document.querySelector('.js-search-form');\nconst galleryEl = document.querySelector('.js-gallery');\n\nsearchFormEl.addEventListener('submit', handleSearch);\n\nfunction handleSearch(event) {\n  event.preventDefault();\n\n  const form = event.currentTarget;\n  const userQuery = form.elements.user_query.value.trim();\n  if (userQuery === ''){\n    showErrorToast(\"Search can't be empty\");\n    form.reset();\n    return;\n  }\n\n  getPhotos(userQuery)\n    .then(data => {\n      if (data.total === 0) {\n        galleryEl.innerHTML = '';\n        showErrorToast('Sorry, there are no images matching your search query. Please try again!');\n        return;\n      }\n\n      galleryEl.innerHTML = createCardsMarkup(data.hits);\n\n      const lightbox = new SimpleLightbox('.gallery a', {\n        captionsData: 'alt',\n        captionDelay: 250,\n        captionPosition: 'bottom',\n      });\n\n      lightbox.refresh();\n    })\n    .catch(console.error)\n    .finally(() => {\n      document.getElementById('loader').style.display = 'none';\n      form.reset();\n    });\n}"],"names":["BASE_URL","API_KEY","getPhotos","query","url","response","error","createCardsMarkup","cards","webformatURL","largeImageURL","tags","likes","views","comments","downloads","icons","showErrorToast","message","iziToast","searchFormEl","galleryEl","handleSearch","event","form","userQuery","data","SimpleLightbox"],"mappings":"6vBAAA,MAAMA,EAAW,0BACXC,EAAU,qCAEhB,SAASC,EAAUC,EAAO,CACxB,SAAS,eAAe,QAAQ,EAAE,MAAM,QAAU,OAElD,MAAMC,EAAM,GAAGJ,CAAQ,SAASC,CAAO,MAAM,mBAAmBE,CAAK,CAAC,2DACtE,OAAO,MAAMC,CAAG,EACb,KAAKC,GAAY,CAEhB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAM,6BAA6B,EAE/C,OAAOA,EAAS,MACtB,CAAK,EACA,MAAMC,GAAS,CACd,QAAQ,MAAM,sDAAuDA,CAAK,CAChF,CAAK,CACL,CClBA,SAASC,EAAkBC,EAAO,CAChC,OAAOA,EACJ,IACC,CAAC,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IAAO;AAAA;AAAA,2CAEzCL,CAAa;AAAA;AAAA;AAAA,uBAGjCD,CAAY;AAAA,uBACZE,CAAI;AAAA;AAAA;AAAA;AAAA,gDAIqBC,CAAK;AAAA,gDACLC,CAAK;AAAA,mDACFC,CAAQ;AAAA,oDACPC,CAAS;AAAA;AAAA,cAGxD,EACA,KAAK,EAAE,CACZ,CCjBA,MAAMC,EAAQ,CACZ,GAAI,IAA4C,IAAA,gDAAA,KAAA,QAAA,EAAC,KACjD,MAAO,IAA+C,IAAA,mDAAA,KAAA,QAAA,EAAC,IACzD,EAEO,SAASC,EAAeC,EAAS,CACtCC,EAAS,MAAM,CACb,MAAO,GACP,gBAAiB,UACjB,QAASH,EAAM,MACf,QAAS,IACT,aAAc,OACd,WAAY,OACZ,SAAU,QACV,YAAa,OACb,UAAW,OACX,SAAU,WACV,QAASE,EACT,MAAO,EACX,CAAG,CACH,CCjBA,MAAME,EAAe,SAAS,cAAc,iBAAiB,EACvDC,EAAY,SAAS,cAAc,aAAa,EAEtDD,EAAa,iBAAiB,SAAUE,CAAY,EAEpD,SAASA,EAAaC,EAAO,CAC3BA,EAAM,eAAc,EAEpB,MAAMC,EAAOD,EAAM,cACbE,EAAYD,EAAK,SAAS,WAAW,MAAM,OACjD,GAAIC,IAAc,GAAG,CACnBR,EAAe,uBAAuB,EACtCO,EAAK,MAAK,EACV,MACD,CAEDtB,EAAUuB,CAAS,EAChB,KAAKC,GAAQ,CACZ,GAAIA,EAAK,QAAU,EAAG,CACpBL,EAAU,UAAY,GACtBJ,EAAe,0EAA0E,EACzF,MACD,CAEDI,EAAU,UAAYd,EAAkBmB,EAAK,IAAI,EAEhC,IAAIC,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,IACd,gBAAiB,QACzB,CAAO,EAEQ,QAAO,CACtB,CAAK,EACA,MAAM,QAAQ,KAAK,EACnB,QAAQ,IAAM,CACb,SAAS,eAAe,QAAQ,EAAE,MAAM,QAAU,OAClDH,EAAK,MAAK,CAChB,CAAK,CACL"}